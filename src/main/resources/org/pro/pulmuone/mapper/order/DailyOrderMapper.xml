<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="org.pro.pulmuone.mapper.order.DailyOrderMapper">

     <!--  List<DailyItemInfoDTO> selectItems(@Param("items") List<DailyOrderItemDTO> items); -->
     <select id="selectItems" resultType="org.pro.pulmuone.domain.order.daily.DailyItemInfoDTO">
     	SELECT p.products_no, products_name, price, event_price, img_path, system_name
     	FROM products p LEFT JOIN products_img i ON p.products_no = i.products_no
     	<where>
	     	<foreach collection="items" item="item" open="p.products_no IN (" separator="," close=")">
	     		#{item.itemCode}
	     	</foreach>
	     	AND origin_name != 'View.png'
	    </where>
     	ORDER BY p.products_no
     </select>
     
</mapper>